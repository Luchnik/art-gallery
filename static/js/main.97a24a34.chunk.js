(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(56)},37:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),s=a(15),o=(a(37),a(3)),l=a.n(o),u=a(13),m=a(7),p=a(8),d=a(9),h=a(11),f=a(10),v=a(12),b=a(14),g=a(18),E=a.n(g);a(39),a(42);E.a.initializeApp({apiKey:"AIzaSyCYBIdKfmAD-JNdWeZ1LO5cmnYXyE_gXek",authDomain:"store-3f284.firebaseapp.com",databaseURL:"https://store-3f284.firebaseio.com",projectId:"store-3f284",storageBucket:"",messagingSenderId:"873883748774",appId:"1:873883748774:web:f2ce8a05e5c2781c"});var w=E.a.firestore(),y=E.a.auth(),O=function(){var e=Object(m.a)(l.a.mark(function e(t,a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=w.doc("Users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return r=t.displayName,c=t.email,e.prev=8,e.next=11,n.set(Object(u.a)({displayName:r,email:c,createdAt:new Date},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Error creating user",e.t0.message);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[8,13]])}));return function(t,a){return e.apply(this,arguments)}}(),j=new E.a.auth.GoogleAuthProvider;j.setCustomParameters({prompt:"select_account"});var N=function(){return y.signInWithPopup(j)},k=(E.a,a(44),function(e){var t=e.currentUser;return r.a.createElement("nav",{className:"navigation-container"},r.a.createElement(s.b,{to:"/",className:"menu-item"},"Home"),r.a.createElement("div",{className:"user-data"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,t.displayName),r.a.createElement("button",{onClick:function(){return y.signOut()},className:"sign-out"},"Sign Out")):r.a.createElement(s.b,{to:"/signin",className:"menu-item"},"Sign In")))}),C=(a(49),Object(b.f)(function(e){var t=e.itemId,a=e.title,n=e.price,c=e.imageUrl,i=e.history,s=e.match;return r.a.createElement("div",{className:"item-container",onClick:function(){return i.push("".concat(s.url).concat(t))}},r.a.createElement("div",{className:"item-preview",style:{backgroundImage:"url(".concat(c,")")}}),r.a.createElement("div",{className:"item-details"},r.a.createElement("div",{className:"title"},a),r.a.createElement("div",{className:"price"},"\u20b4",n)))})),S=(a(50),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={items:[]},a.unsubscribeFromFirestore=null,a.componentDidMount=function(){a.unsubscribeFromFirestore=w.collection("Items").onSnapshot(function(e){var t=e.docs.map(function(e){return Object(u.a)({id:e.id},e.data())});a.setState({items:t})})},a.componentWillUnmount=function(){a.unsubscribeFromFirestore()},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"grid-container"},this.state.items.map(function(e){var t=e.id,a=e.title,n=e.price,c=e.imageUrl;return r.a.createElement(C,{key:t,itemId:t,title:a,price:n,imageUrl:c})}))}}]),t}(r.a.Component)),x=(a(51),function(){return r.a.createElement(S,null)}),I=(a(52),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a.componentDidMount=function(){var e=a.props.match.params.itemId,t=w.doc("Items/".concat(e));a.getItemDetails(t)},a.getItemDetails=function(){var e=Object(m.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:(n=e.sent).exists&&a.setState(Object(u.a)({},n.data()));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.price,n=e.imageUrl;return r.a.createElement("div",{className:"item-details-component"},r.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(n,")")}}),r.a.createElement("div",{className:"item-data"},r.a.createElement("h2",null,t),r.a.createElement("label",null,"Price: \u20b4",a)))}}]),t}(r.a.Component)),U=a(16),A=(a(53),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(){var e=Object(m.a)(l.a.mark(function e(t){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,c=n.password,e.prev=2,e.next=5,y.signInWithEmailAndPassword(r,c);case 5:a.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(U.a)({},n,r))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"sign-in-container"},r.a.createElement("h2",null,"Sign in"),r.a.createElement("p",null,"I already have an account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"password",type:"password",value:a,placeholder:"Password",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"sign-in-options"},r.a.createElement("input",{type:"submit",value:"Sign In"}),r.a.createElement("button",{className:"btn google-signin",onClick:N},"Sign In With Google"))))}}]),t}(r.a.Component)),P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={displayName:"",email:"",password:"",confirmPassword:""},a.handleSubmit=function(){var e=Object(m.a)(l.a.mark(function e(t){var n,r,c,i,s,o,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.displayName,c=n.email,i=n.password,s=n.confirmPassword,i===s){e.next=5;break}return alert("Password don't match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,y.createUserWithEmailAndPassword(c,i);case 8:return o=e.sent,u=o.user,e.next=12,O(u,{displayName:r});case 12:a.setState({displayName:"",email:"",password:"",confirmPassword:""}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[5,15]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(U.a)({},n,r))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,c=e.confirmPassword;return r.a.createElement("div",{className:"sign-in-container"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("p",null,"I don't have an account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{name:"displayName",type:"text",placeholder:"Display Name",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",value:a,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"password",type:"password",value:n,placeholder:"Password",onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"confirmPassword",type:"password",value:c,placeholder:"Confirm Password",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"sign-in-options"},r.a.createElement("input",{type:"submit",value:"Sign Up"}))))}}]),t}(r.a.Component),D=(a(54),function(){return r.a.createElement("div",{className:"auth-container"},r.a.createElement(A,null),r.a.createElement(P,null))}),F=(a(55),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},a.unsubscribeFromAuth=null,a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=y.onAuthStateChanged(function(){var t=Object(m.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,O(a);case 3:t.sent.onSnapshot(function(t){e.setState({currentUser:Object(u.a)({id:t.id},t.data())},function(){return console.log(e.state)})}),t.next=8;break;case 7:e.setState({currentUser:a});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(k,{currentUser:this.state.currentUser}),r.a.createElement("main",{className:"main-section"},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:x}),r.a.createElement(b.a,{path:"/signin",component:D}),r.a.createElement(b.a,{path:"/:itemId",component:I}))))}}]),t}(r.a.Component));i.a.render(r.a.createElement(s.a,{basename:"/store"},r.a.createElement(F,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.97a24a34.chunk.js.map