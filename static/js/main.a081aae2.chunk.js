(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/jumbotron.1d8e929f.jpeg"},34:function(e,t,a){e.exports=a(66)},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),i=a.n(c),s=a(10),l=(a(39),a(1)),o=a.n(l),u=a(11),m=a(3),p=a(4),d=a(5),h=a(7),v=a(6),f=a(8),b=a(16),g=(a(41),function(e){var t=e.rating;return r.a.createElement("span",{className:"rating"},"\u2605 ",t)}),y=a(15),E=(a(42),function(e){var t=e.children,a=(e.outlineColor,e.small),n=e.styleType,c=e.alreadyLiked,i=Object(y.a)(e,["children","outlineColor","small","styleType","alreadyLiked"]),s="";switch(n){case"primary":s="primary";break;case"secondary":s="secondary";break;case"like":s="like";break;case"googleLogIn":s="google-login";break;default:s=""}return r.a.createElement("button",Object.assign({className:"custom-button ".concat(c?"alreadyLiked":""," ").concat(s," ").concat(a?"small":"")},i),t)}),k=(a(43),a(23)),j=a.n(k);j.a.initializeApp({apiKey:"AIzaSyCYBIdKfmAD-JNdWeZ1LO5cmnYXyE_gXek",authDomain:"store-3f284.firebaseapp.com",databaseURL:"https://store-3f284.firebaseio.com",projectId:"store-3f284",storageBucket:"",messagingSenderId:"873883748774",appId:"1:873883748774:web:f2ce8a05e5c2781c"});var N=j.a,O=N.auth(),w=new N.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});var x=function(){return O.signInWithPopup(w)},C=(a(45),Object(b.f)(function(e){var t=e.currentUser,a=e.history,n=e.location,c=function(){var e=Object(m.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.signOut();case 3:a.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("header",{className:"header-container"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"navigation-container"},r.a.createElement(s.b,{className:"menu-item",to:"/"},t?"My Gallery":"Home"),r.a.createElement(s.b,{className:"menu-item",to:"/artists"},"Artists")),r.a.createElement("div",{className:"user-container"},t?r.a.createElement(r.a.Fragment,null,"/new"!==n.pathname&&r.a.createElement(E,{type:"button",small:!0,onClick:function(){return a.push("/new")},styleType:"primary"},"Add new"),r.a.createElement("div",{className:"user-data-container"},r.a.createElement("div",{className:"display-name"},r.a.createElement(g,{rating:t.rating}),t.displayName),r.a.createElement("div",{className:"menu-item",onClick:c},"Log Out"))):r.a.createElement(s.b,{className:"menu-item",to:"/signin"},"Log In"))))})),I=a(33),U=a.n(I),D=function(e){return function(t){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(f.a)(a,t),Object(d.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(ne.Consumer,null,function(a){return r.a.createElement(e,Object.assign({currentUser:a},t.props))})}}]),a}(r.a.Component)},A=(a(50),function(){return r.a.createElement("div",{className:"sk-fading-circle"},r.a.createElement("div",{className:"sk-circle1 sk-circle"}),r.a.createElement("div",{className:"sk-circle2 sk-circle"}),r.a.createElement("div",{className:"sk-circle3 sk-circle"}),r.a.createElement("div",{className:"sk-circle4 sk-circle"}),r.a.createElement("div",{className:"sk-circle5 sk-circle"}),r.a.createElement("div",{className:"sk-circle6 sk-circle"}),r.a.createElement("div",{className:"sk-circle7 sk-circle"}),r.a.createElement("div",{className:"sk-circle8 sk-circle"}),r.a.createElement("div",{className:"sk-circle9 sk-circle"}),r.a.createElement("div",{className:"sk-circle10 sk-circle"}),r.a.createElement("div",{className:"sk-circle11 sk-circle"}),r.a.createElement("div",{className:"sk-circle12 sk-circle"}))}),S=(a(51),Object(b.f)(function(e){var t=e.itemId,a=e.title,n=e.price,c=e.imageUrl,i=e.history,s=e.match,l="/"===s.url?t:"".concat(s.url,"/").concat(t);return r.a.createElement("div",{className:"item-container",onClick:function(){return i.push(l)}},r.a.createElement("div",{className:"item-preview",style:{backgroundImage:"url(".concat(c,")")}}),r.a.createElement("div",{className:"item-details"},r.a.createElement("div",{className:"title"},a),r.a.createElement("div",{className:"price"},"\u20b4",n)))})),q=(a(52),N.firestore()),P={subscribeToCollection:function(e,t){return q.collection(e).onSnapshot(t)},mapCollectionToArray:function(e){return e.docs.map(function(e){return Object(u.a)({id:e.id},e.data())})}},L=(a(55),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],loading:!0},a.unsubscribeFromCollection=null,a.componentDidMount=function(){var e=a.props.userId,t="Users/".concat(e,"/Gallery");a.unsubscribeFromCollection=P.subscribeToCollection(t,function(e){var t=P.mapCollectionToArray(e);a.setState({items:t,loading:!1})})},a.componentWillUnmount=function(){a.unsubscribeFromCollection()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.items;return t?r.a.createElement(A,null):r.a.createElement("div",{className:"grid-container"},a.map(function(e){var t=e.id,a=Object(y.a)(e,["id"]);return r.a.createElement(S,Object.assign({key:t,itemId:t},a))}))}}]),t}(r.a.PureComponent)),F=(a(56),D(function(e){var t=e.currentUser;return t?r.a.createElement(L,{userId:t.id}):r.a.createElement("div",{className:"home-page-container"},r.a.createElement("div",{className:"jumbotron",style:{backgroundImage:"url(".concat(U.a,")")}}),r.a.createElement("div",{className:"heading-container"},r.a.createElement("h1",null,"Personal Art Gallery"),r.a.createElement("p",null,"Where your masterpieces are stored")),r.a.createElement("div",{className:"help-container"},r.a.createElement("p",null,"Please ",r.a.createElement(s.b,{className:"log-in",to:"/signin"},"Log In")," to continue")))})),B=(a(57),function(e){var t=e.userId,a=e.artistId,n=e.displayName,c=e.email,i=e.createdAt,s=e.rating,l=e.onNameClick;return r.a.createElement("div",{className:"artist"},r.a.createElement("div",{className:"user-rating"},r.a.createElement(g,{rating:s})),r.a.createElement("div",{className:"display-name"},r.a.createElement("span",{className:"value",onClick:function(){return l(a)}},n),r.a.createElement("span",{className:"indicator"},t===a?" (you)":"")),r.a.createElement("div",{className:"email"},c),r.a.createElement("div",{className:"created-at"},new Date(1e3*i.seconds).toDateString()))}),T=(a(58),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={artists:[],loading:!0},a.unsubscribeFromCollection=null,a.componentDidMount=function(){a.unsubscribeFromCollection=P.subscribeToCollection("Users",function(e){var t=P.mapCollectionToArray(e).sort(function(e,t){return t.rating-e.rating});a.setState({artists:t,loading:!1})})},a.onNameClick=function(e){var t=a.props,n=t.currentUser,r=t.history,c=n&&n.id===e?"/":"/artists/".concat(e);r.push(c)},a.componentWillUnmount=function(){a.unsubscribeFromCollection()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.artists,n=t.loading,c=this.props.currentUser;return n?r.a.createElement(A,null):c&&!a.length?r.a.createElement("h2",null,"No artists"):r.a.createElement("div",{className:"artists-container"},r.a.createElement("div",{className:"hints"},r.a.createElement("div",{className:"user-rating"},"rating"),r.a.createElement("div",{className:"display-name"},"display name"),r.a.createElement("div",{className:"email"},"email"),r.a.createElement("div",{className:"created-at"},"created at")),a.map(function(t){var a=t.id,n=Object(y.a)(t,["id"]);return r.a.createElement(B,Object.assign({key:a,onNameClick:e.onNameClick,userId:c?c.id:null,artistId:a},n))}))}}]),t}(r.a.PureComponent)),G=Object(b.f)(D(T)),M={addNewDocument:function(){var e=Object(m.a)(o.a.mark(function e(t,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.collection(t).add(a));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),deleteDocument:function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDocument:function(){var e=Object(m.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.doc(t),e.next=3,a.get();case 3:return n=e.sent,e.abrupt("return",n.exists?Object(u.a)({},n.data()):new Error("Document doesn't exist"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateDocument:function(){var e=Object(m.a)(o.a.mark(function e(t,a){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=q.doc(t),e.abrupt("return",n.update(a));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},W=(a(59),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={artist:{},loading:!0},a.componentDidMount=Object(m.a)(o.a.mark(function e(){var t,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match,n="Users/".concat(t.params.artistId),e.prev=2,e.next=5,M.getDocument(n);case 5:r=e.sent,a.setState({artist:r,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.artist,a=t.displayName,n=t.rating,c=e.loading,i=this.props.match.params.artistId;return c?r.a.createElement(A,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"artists-data"},r.a.createElement("label",{className:"rating"},r.a.createElement(g,{rating:n})),a," Gallery"),r.a.createElement(L,{userId:i}))}}]),t}(r.a.Component)),z=(a(60),function(e){var t=e.name,a=e.placeholder,n=e.value,c=e.onInputChange,i=Object(y.a)(e,["name","placeholder","value","onInputChange"]);return r.a.createElement("textarea",Object.assign({className:"textarea-field",name:t,value:n,onChange:c,placeholder:a},i))}),J=(a(61),function(e){var t=e.name,a=e.type,n=e.placeholder,c=e.value,i=e.onInputChange,s=Object(y.a)(e,["name","type","placeholder","value","onInputChange"]);return r.a.createElement("input",Object.assign({className:"input-field",name:t,type:a,placeholder:n,value:c,onChange:i},s))}),R=(a(62),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).state={item:{},loading:!0,isEditing:!1,isMineItem:!1,alreadyLiked:!1},a.componentDidMount=function(){a.getItemDetails()},a.componentDidUpdate=function(e){e.currentUser!==a.props.currentUser&&a.getItemDetails()},a.getItemDetails=Object(m.a)(o.a.mark(function e(){var t,n,r,c,i,s,l,u,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.currentUser,r=t.match,c=r.params,i=c.artistId,s=c.itemId,l="",!i||!s){e.next=7;break}l="Users/".concat(i,"/Gallery/").concat(s),e.next=12;break;case 7:if(!n){e.next=11;break}l="Users/".concat(n.id,"/Gallery/").concat(s),e.next=12;break;case 11:return e.abrupt("return");case 12:return e.prev=12,e.next=15,M.getDocument(l);case 15:u=e.sent,m=!!n&&u.likedBy.includes(n.id),a.setState({item:u,loading:!1,isMineItem:!i,alreadyLiked:m}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[12,20]])})),a.deleteItem=Object(m.a)(o.a.mark(function e(){var t,n,r,c,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentUser,r=t.history,c=t.match,i=c.params.itemId,s="Users/".concat(n.id,"/Gallery/").concat(i),e.prev=3,e.next=6,M.deleteDocument(s);case 6:r.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[3,9]])})),a.editItem=Object(m.a)(o.a.mark(function e(){var t,n,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.isEditing){e.next=12;break}return t=a.props,n=t.currentUser,r=t.match,c=r.params.itemId,i="Users/".concat(n.id,"/Gallery/").concat(c),e.prev=4,e.next=7,M.updateDocument(i,a.state.item);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0);case 12:a.setState(function(e){return{isEditing:!e.isEditing}});case 13:case"end":return e.stop()}},e,null,[[4,9]])})),a.updateArtistsRating=function(){var e=Object(m.a)(o.a.mark(function e(t){var n,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.match,r=n.params.artistId,c="Users/".concat(r),e.prev=3,e.next=6,M.getDocument(c);case 6:return(i=e.sent).rating=i.rating+t,e.next=10,M.updateDocument(c,i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),a.toggleLike=Object(m.a)(o.a.mark(function e(){var t,n,r,c,i,s,l,m,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentUser,r=t.match,c=r.params,i=c.artistId,s=c.itemId,l="Users/".concat(i,"/Gallery/").concat(s),e.prev=3,m=Object(u.a)({},a.state.item),p=0,m.likedBy.includes(n.id)?(m.likedBy=m.likedBy.filter(function(e){return e!==n.id}),p--):(m.likedBy=m.likedBy.concat(n.id),p++),m.rating=m.likedBy.length,e.next=10,M.updateDocument(l,m);case 10:a.setState(function(e){return{item:m,alreadyLiked:!e.alreadyLiked}},function(){a.updateArtistsRating(p)}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[3,13]])})),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,c=Object(u.a)({},a.state.item);c[n]=r,a.setState({item:c})},a.renderItemEdit=function(){var e=a.state.item,t=e.title,n=e.price,c=e.imageUrl,i=e.description;return r.a.createElement("div",{className:"editing-container"},r.a.createElement("h2",{className:"title"},r.a.createElement(J,{name:"title",type:"text",placeholder:"Title",value:t,onInputChange:a.handleChange,required:!0}),r.a.createElement(J,{min:"0",name:"price",type:"number",placeholder:"Price",value:n,onInputChange:a.handleChange,required:!0}),r.a.createElement(J,{name:"imageUrl",type:"text",placeholder:"Image URL",value:c,onInputChange:a.handleChange,required:!0}),r.a.createElement("div",{className:"text-area-container"},r.a.createElement(z,{name:"description",placeholder:"Description",value:i,onInputChange:a.handleChange,required:!0}))))},a.renderItemDetails=function(){var e=a.state.item,t=e.title,n=e.price,c=e.rating,i=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title"},t),r.a.createElement("label",{className:"item-rating"},r.a.createElement(g,{rating:c})),r.a.createElement("label",{className:"price"},"\u20b4 ",n),r.a.createElement("p",{className:"description"},i))},a.renderActionButtons=function(){var e=a.state,t=e.isMineItem,n=e.isEditing,c=e.alreadyLiked;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{type:"submit",onClick:function(){return a.editItem()},small:!0,styleType:"secondary"},n?"Done":"Edit"),r.a.createElement(E,{type:"submit",onClick:function(){return a.deleteItem()},small:!0,styleType:"primary"},"Delete")):!t&&a.props.currentUser?r.a.createElement(E,{type:"submit",onClick:function(){return a.toggleLike()},small:!0,alreadyLiked:c,styleType:"like"},c?"Dislike It":"Like It"):void 0},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.item.imageUrl,a=e.loading,n=e.isEditing;return a?r.a.createElement(A,null):r.a.createElement("div",{className:"item-details-container"},r.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(t,")"),opacity:n?.3:1}}),r.a.createElement("div",{className:"item-description"},n?this.renderItemEdit():this.renderItemDetails(),r.a.createElement("div",{className:"action-buttons"},this.renderActionButtons())))}}]),t}(r.a.PureComponent)),K=Object(b.f)(D(R)),Y=a(17),H=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(){var e=Object(m.a)(o.a.mark(function e(t){var n,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,c=n.password,e.prev=2,e.next=5,O.signInWithEmailAndPassword(r,c);case 5:a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleGoogleSignIn=Object(m.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:a.props.history.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Y.a)({},n,r))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"sign-in-container"},r.a.createElement("h2",null,"Log in"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(J,{name:"email",type:"email",placeholder:"Email",value:t,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{name:"password",type:"password",placeholder:"Password",value:a,onInputChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"button-group"},r.a.createElement(E,{type:"submit",styleType:"primary"},"Log In"),r.a.createElement(E,{onClick:this.handleGoogleSignIn,styleType:"googleLogIn"},"Log In With Google"))))}}]),t}(r.a.PureComponent),V=Object(b.f)(H),X=[{title:"tempor incididunt",price:220,rating:0,imageUrl:"https://i.ibb.co/9YCqtqp/scream.jpg",likedBy:[],description:"His ad civibus nominavi torquatos. Ne mei semper lucilius sapientem. Duis verear id vim. Id pro aperiam intellegam, mandamus periculis id sea."},{title:"sed do eiusmod",price:740,rating:0,imageUrl:"https://i.ibb.co/Kx4dBzh/water.jpg",likedBy:[],description:"Et vix vidit assentior prodesset. Ad ipsum adipisci vim, vix eros deseruisse ei. No facete euripidis temporibus vel, posse iudico mea ex. In appareat dissentiet mel, eos an nibh prodesset deseruisse."},{title:"dolor sit amet",price:550,rating:0,imageUrl:"https://i.ibb.co/zmp7FjJ/night.jpg",likedBy:[],description:"Omittam vivendum deserunt ei cum, mel ea omittantur liberavisse, ad nonumy mollis epicurei eam. Ea vis mundi tation. Ad vidisse virtute eloquentiam usu, an vim dolorem delicata oportere, ei mea omnes perpetua. Eum viderer legendos id, at iriure voluptatum cotidieque eam, te mucius disputando mei. Nobis affert abhorreant at sit."},{title:"consectetur adipiscing elit",price:325,rating:0,imageUrl:"https://i.ibb.co/MnY8K1r/lake.jpg",likedBy:[],description:"Pri id accumsan delicata persecuti, ubique labores torquatos cu ius, omnis timeam ad quo. Everti disputando contentiones vim ne, sit at omnium option epicuri, id erant aliquip eruditi cum. Ut sea veniam deseruisse, sit paulo omnium no. Vel no nominavi deseruisse, vim case facer no, scripta bonorum ut nec. Vel nisl dolores omittantur no."},{title:"lorem ipsum",price:255,rating:0,imageUrl:"https://i.ibb.co/JtfF43p/kiss.jpg",likedBy:[],description:"Eu dolorem liberavisse vix, ne vis zril invenire similique. Aeque doming officiis vim an, vis tritani praesent ne, his no erat dissentiunt. Molestie definiebas comprehensam mei at, no his semper honestatis. Erant essent placerat quo ne, usu alia iracundia an. Ne habeo ornatus mea, ex semper salutandi periculis pri."}],_=function(e){try{X.forEach(function(){var t=Object(m.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.collection("Gallery").doc(),t.next=3,n.set(a);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}catch(t){console.log("Error updating gallery",t.message)}},Z=function(){var e=Object(m.a)(o.a.mark(function e(t,a){var n,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=q.doc("Users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.displayName,c=t.email,e.prev=8,e.next=11,n.set(Object(u.a)({displayName:r,email:c,rating:0,createdAt:new Date},a));case 11:_(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.log("Error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,null,[[8,14]])}));return function(t,a){return e.apply(this,arguments)}}(),Q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={displayName:"",email:"",password:"",confirmPassword:""},a.handleSubmit=function(){var e=Object(m.a)(o.a.mark(function e(t){var n,r,c,i,s,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.displayName,c=n.email,i=n.password,s=n.confirmPassword,i===s){e.next=5;break}return alert("Password don't match"),e.abrupt("return");case 5:return e.prev=5,e.next=8,O.createUserWithEmailAndPassword(c,i);case 8:return l=e.sent,u=l.user,e.next=12,Z(u,{displayName:r});case 12:a.props.history.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[5,15]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Y.a)({},n,r))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,c=e.confirmPassword;return r.a.createElement("div",{className:"sign-up-container"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(J,{name:"displayName",type:"text",placeholder:"Display Name",value:t,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{name:"email",type:"email",placeholder:"Email",value:a,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{name:"password",type:"password",placeholder:"Password",value:n,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:c,onInputChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"button-group"},r.a.createElement(E,{type:"submit",styleType:"primary"},"Sign Up"))))}}]),t}(r.a.PureComponent),$=Object(b.f)(Q),ee=(a(63),function(){return r.a.createElement("div",{className:"signin-and-signup-container"},r.a.createElement(V,null),r.a.createElement($,null))}),te=(a(64),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).initialFormState={title:"",price:"",rating:0,imageUrl:"",likedBy:[],description:""},a.state=Object(u.a)({},a.initialFormState),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Y.a)({},n,r))},a.handleSubmit=function(){var e=Object(m.a)(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=O.currentUser.uid,r="/Users/".concat(n,"/Gallery"),e.prev=3,e.next=6,M.addNewDocument(r,a.state);case 6:a.props.history.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),a.resetFields=function(){a.setState(Object(u.a)({},a.initialFormState))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.price,c=t.imageUrl,i=t.description;return r.a.createElement("form",{className:"new-item-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-head"},r.a.createElement("h2",null,"Add new piece"),r.a.createElement("div",{className:"button-group"},r.a.createElement(E,{type:"submit",small:!0,styleType:"primary"},"Add"),r.a.createElement(E,{type:"button",small:!0,onClick:function(){return e.resetFields()},styleType:"secondary"},"Clear"))),r.a.createElement("div",{className:"inputs-container"},r.a.createElement("div",{className:"inputs"},r.a.createElement(J,{name:"title",type:"text",placeholder:"Title",value:a,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{min:"0",name:"price",type:"number",placeholder:"Price",value:n,onInputChange:this.handleChange,required:!0}),r.a.createElement(J,{name:"imageUrl",type:"text",placeholder:"Image URL",value:c,onInputChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"description-container"},r.a.createElement(z,{name:"description",placeholder:"Description",value:i,onInputChange:this.handleChange,required:!0}))))}}]),t}(r.a.PureComponent)),ae=Object(b.f)(te),ne=(a(65),r.a.createContext(null)),re=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},a.unsubscribeFromAuth=null,a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=O.onAuthStateChanged(function(){var t=Object(m.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,Z(a);case 3:t.sent.onSnapshot(function(t){e.setState({currentUser:Object(u.a)({id:t.id},t.data())})}),t.next=8;break;case 7:e.setState({currentUser:a});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(C,{currentUser:this.state.currentUser}),r.a.createElement("main",{className:"main-container"},r.a.createElement(ne.Provider,{value:this.state.currentUser},r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",exact:!0,component:F}),r.a.createElement(b.a,{path:"/new",component:ae}),r.a.createElement(b.a,{path:"/artists",exact:!0,component:G}),r.a.createElement(b.a,{path:"/artists/:artistId",exact:!0,component:W}),r.a.createElement(b.a,{path:"/artists/:artistId/:itemId",exact:!0,component:K}),r.a.createElement(b.a,{path:"/signin",component:ee}),r.a.createElement(b.a,{path:"/:itemId",exact:!0,component:K})))))}}]),t}(r.a.Component);i.a.render(r.a.createElement(s.a,{basename:"/art-gallery"},r.a.createElement(re,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a081aae2.chunk.js.map